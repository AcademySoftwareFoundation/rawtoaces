///////////////////////////////////////////////////////////////////////////
// Copyright (c) 2013 Academy of Motion Picture Arts and Sciences 
// ("A.M.P.A.S."). Portions contributed by others as indicated.
// All rights reserved.
// 
// A worldwide, royalty-free, non-exclusive right to copy, modify, create
// derivatives, and use, in source and binary forms, is hereby granted, 
// subject to acceptance of this license. Performance of any of the 
// aforementioned acts indicates acceptance to be bound by the following 
// terms and conditions:
//
//  * Copies of source code, in whole or in part, must retain the 
//    above copyright notice, this list of conditions and the 
//    Disclaimer of Warranty.
//
//  * Use in binary form must retain the above copyright notice, 
//    this list of conditions and the Disclaimer of Warranty in the
//    documentation and/or other materials provided with the distribution.
//
//  * Nothing in this license shall be deemed to grant any rights to 
//    trademarks, copyrights, patents, trade secrets or any other 
//    intellectual property of A.M.P.A.S. or any contributors, except 
//    as expressly stated herein.
//
//  * Neither the name "A.M.P.A.S." nor the name of any other 
//    contributors to this software may be used to endorse or promote 
//    products derivative of or based on this software without express 
//    prior written permission of A.M.P.A.S. or the contributors, as 
//    appropriate.
// 
// This license shall be construed pursuant to the laws of the State of 
// California, and any disputes related thereto shall be subject to the 
// jurisdiction of the courts therein.
//
// Disclaimer of Warranty: THIS SOFTWARE IS PROVIDED BY A.M.P.A.S. AND 
// CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, 
// BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS 
// FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT ARE DISCLAIMED. IN NO 
// EVENT SHALL A.M.P.A.S., OR ANY CONTRIBUTORS OR DISTRIBUTORS, BE LIABLE 
// FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, RESITUTIONARY, 
// OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF 
// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS 
// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN 
// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF 
// THE POSSIBILITY OF SUCH DAMAGE.
//
// WITHOUT LIMITING THE GENERALITY OF THE FOREGOING, THE ACADEMY 
// SPECIFICALLY DISCLAIMS ANY REPRESENTATIONS OR WARRANTIES WHATSOEVER 
// RELATED TO PATENT OR OTHER INTELLECTUAL PROPERTY RIGHTS IN THE ACADEMY 
// COLOR ENCODING SYSTEM, OR APPLICATIONS THEREOF, HELD BY PARTIES OTHER 
// THAN A.M.P.A.S., WHETHER DISCLOSED OR UNDISCLOSED.
///////////////////////////////////////////////////////////////////////////

#include <valarray>
#include <vector>
#include <string>
#include "assert.h"

#if !defined(TRUE)
#define TRUE 1
#endif

#if !defined(FALSE)
#define FALSE 0
#endif

#if 0
#define debug(x) (cout << x << endl)
#else
#define debug(x)
#endif

#define sign(x)		((x) > 0 ? 1 : ( (x) < 0 ? (0-1) : 0))
#define countSize(a)	(sizeof(a) / sizeof((a)[0]))

typedef half   float16_t;
typedef float  float32_t;
typedef double float64_t;

using namespace std;

valarray<float>  cameraCalibration1DNG = valarray<float>(1.0f, 9);
valarray<float>  cameraCalibration2DNG = valarray<float>(1.0f, 9);
valarray<float>  cameraToXYZMtx        = valarray<float>(1.0f, 9);
valarray<float>  xyz2rgbMatrix1DNG     = valarray<float>(1.0f, 9);
valarray<float>  xyz2rgbMatrix2DNG     = valarray<float>(1.0f, 9);
valarray<float>  analogBalanceDNG      = valarray<float>(1.0f, 3);
valarray<float>  neutralRGBDNG         = valarray<float>(1.0f, 3);
valarray<float>  cameraXYZWhitePoint   = valarray<float>(1.0f, 3);
valarray<float>  calibrateIllum        = valarray<float>(1.0f, 2);

struct CIEXYZ {
    float Xt;
    float Yt;
    float Zt;
};

struct CIELab {
    float L;
    float a;
    float b;
};

struct trainSpec {
    float data[120];
    float wl;
};

struct CMF {
    float wl;
    float xbar;
    float ybar;
    float zbar;
};

struct RGBSen {
    float RSen;
    float GSen;
    float BSen;
};

struct illum {
    CIEXYZ XYZt;
    string src;
    string des;
};

struct lightsrc {
    string type;
    float* data;
    float* wavelength;
};

struct cameraDataPath {
    string os;
    vector <string> paths;
};

static const double XYZ_acesrgb_3[3][3] = {
    { 1.0634731317028,      0.00639793641966071,   -0.0157891874506841 },
    { -0.492082784686793,   1.36823709310019,      0.0913444629573544  },
    { -0.0028137154424595,  0.00463991165243123,   0.91649468506889    }
};

//static const double XYZ_acesrgb_3[3][3] = {
//    { 1.01584,   -0.01773,   0.04637 },
//    { -0.50780,  1.39129,    0.11917 },
//    { 0.00846,   -0.01404,   1.21907 }
//};

static const double XYZ_acesrgb_4[4][4] = {
    { 1.0634731317028,      0.00639793641966071,   -0.0157891874506841,     0.0 },
    { -0.492082784686793,   1.36823709310019,      0.0913444629573544,      0.0 },
    { -0.0028137154424595,  0.00463991165243123,   0.91649468506889,        0.0 },
    { 0.0,                  0.0,                   0.0,                     1.0 }

};

static const float chromaticitiesACES[4][2] = {
    { 0.73470f,     0.26530f  },
    { 0.00000f,     1.00000f  },
    { 0.00010f,     -0.07700f },
    { 0.32168f,     0.33767f  }
};

static const float Robertson_uvtTable[][3] = {
    { 0.18006f, 0.26352f, -0.24341f},
    { 0.18066f, 0.26589f, -0.25479f},
    { 0.18133f, 0.26846f, -0.26876f},
    { 0.18208f, 0.27119f, -0.28539f},
    { 0.18293f, 0.27407f, -0.3047f},
    { 0.18388f, 0.27709f, -0.32675f},
    { 0.18494f, 0.28021f, -0.35156f},
    { 0.18611f, 0.28342f, -0.37915f},
    { 0.18740f, 0.28668f, -0.40955f},
    { 0.18880f, 0.28997f, -0.44278f},
    { 0.19032f, 0.29326f, -0.47888f},
    { 0.19462f, 0.30141f, -0.58204f},
    { 0.19962f, 0.30921f, -0.70471f},
    { 0.20525f, 0.31647f, -0.84901f},
    { 0.21142f, 0.32312f, -1.0182f},
    { 0.21807f, 0.32909f, -1.2168f},
    { 0.22511f, 0.33439f, -1.4512f},
    { 0.23247f, 0.33904f, -1.7298f},
    { 0.24010f, 0.34308f, -2.0637f},
    { 0.24792f, 0.34655f, -2.4681f},
    { 0.25591f, 0.34951f, -2.9641f},
    { 0.26400f, 0.35200f, -3.5814f},
    { 0.27218f, 0.35407f, -4.3633f},
    { 0.28039f, 0.35577f, -5.3762f},
    { 0.28863f, 0.35714f, -6.7262f},
    { 0.29685f, 0.35823f, -8.5955f},
    { 0.30505f, 0.35907f, -11.324f},
    { 0.31320f, 0.35968f, -15.628f},
    { 0.32129f, 0.36011f, -23.325f},
    { 0.32931f, 0.36038f, -40.77f},
    { 0.33724f, 0.36051f, -116.45f}
};

static const float deviceWhite[3] = {1.0, 1.0, 1.0};

// Different Color Adaptation Matrices
static const float bradford[3][3] = {
    {0.8951,  0.2664, -0.1614},
    {-0.7502, 1.7135,  0.0367},
    {0.0389,  -0.0685, 1.0296}
};

static const float cat02[3][3] = {
    {0.7328,  0.4296,  -0.1624},
    {-0.7036, 1.6975,  0.0061 },
    {0.0030,  0.0136,  0.9834 }
};

static const float reillum[3][3] = {
    {1.6160, -0.3591, -0.2569},
    {-0.9542, 1.8731,  0.0811},
    {0.0170,  -0.0333, 1.0163}
};

static const float CATMatrix[3][3] = {
    { 1.0634731317028,      0.00639793641966071,   -0.0157891874506841 },
    { -0.492082784686793,   1.36823709310019,      0.0913444629573544  },
    { -0.0028137154424595,  0.00463991165243123,   0.91649468506889    }
};

static const struct {
    uint16_t wl;
    RGBSen response;
} cml_1931[] = {
    {360, { 0.0001299, 3.92E-06, 0.0006061 }},
    {361, { 0.000145847, 4.39E-06, 0.000680879 }},
    {362, { 0.000163802, 4.93E-06, 0.000765146 }},
    {363, { 0.000184004, 5.53E-06, 0.000860012 }},
    {364, { 0.00020669, 6.21E-06, 0.000966593 }},
    {365, { 0.0002321, 6.97E-06, 0.001086 }},
    {366, { 0.000260728, 7.81E-06, 0.001220586 }},
    {367, { 0.000293075, 8.77E-06, 0.001372729 }},
    {368, { 0.000329388, 9.84E-06, 0.001543579 }},
    {369, { 0.000369914, 1.10E-05, 0.001734286 }},
    {370, { 0.0004149, 1.24E-05, 0.001946 }},
    {371, { 0.000464159, 1.39E-05, 0.002177777 }},
    {372, { 0.000518986, 1.56E-05, 0.002435809 }},
    {373, { 0.000581854, 1.74E-05, 0.002731953 }},
    {374, { 0.000655235, 1.96E-05, 0.003078064 }},
    {375, { 0.0007416, 2.20E-05, 0.003486 }},
    {376, { 0.00084503, 2.48E-05, 0.003975227 }},
    {377, { 0.000964527, 2.80E-05, 0.00454088 }},
    {378, { 0.001094949, 3.15E-05, 0.00515832 }},
    {379, { 0.001231154, 3.52E-05, 0.005802907 }},
    {380, { 0.001368, 3.90E-05, 0.006450001 }},
    {381, { 0.00150205, 4.28E-05, 0.007083216 }},
    {382, { 0.001642328, 4.69E-05, 0.007745488 }},
    {383, { 0.001802382, 5.16E-05, 0.008501152 }},
    {384, { 0.001995757, 5.72E-05, 0.009414544 }},
    {385, { 0.002236, 6.40E-05, 0.01054999 }},
    {386, { 0.002535385, 7.23E-05, 0.0119658 }},
    {387, { 0.002892603, 8.22E-05, 0.01365587 }},
    {388, { 0.003300829, 9.35E-05, 0.01558805 }},
    {389, { 0.003753236, 0.000106136, 0.01773015 }},
    {390, { 0.004243, 0.00012, 0.02005001 }},
    {391, { 0.004762389, 0.000134984, 0.02251136 }},
    {392, { 0.005330048, 0.000151492, 0.02520288 }},
    {393, { 0.005978712, 0.000170208, 0.02827972 }},
    {394, { 0.006741117, 0.000191816, 0.03189704 }},
    {395, { 0.00765, 0.000217, 0.03621 }},
    {396, { 0.008751373, 0.000246907, 0.04143771 }},
    {397, { 0.01002888, 0.00028124, 0.04750372 }},
    {398, { 0.0114217, 0.00031852, 0.05411988 }},
    {399, { 0.01286901, 0.000357267, 0.06099803 }},
    {400, { 0.01431, 0.000396, 0.06785001 }},
    {401, { 0.01570443, 0.000433715, 0.07448632 }},
    {402, { 0.01714744, 0.000473024, 0.08136156 }},
    {403, { 0.01878122, 0.000517876, 0.08915364 }},
    {404, { 0.02074801, 0.000572219, 0.09854048 }},
    {405, { 0.02319, 0.00064, 0.1102 }},
    {406, { 0.02620736, 0.00072456, 0.1246133 }},
    {407, { 0.02978248, 0.0008255, 0.1417017 }},
    {408, { 0.03388092, 0.00094116, 0.1613035 }},
    {409, { 0.03846824, 0.00106988, 0.1832568 }},
    {410, { 0.04351, 0.00121, 0.2074 }},
    {411, { 0.0489956, 0.001362091, 0.2336921 }},
    {412, { 0.0550226, 0.001530752, 0.2626114 }},
    {413, { 0.0617188, 0.001720368, 0.2947746 }},
    {414, { 0.069212, 0.001935323, 0.3307985 }},
    {415, { 0.07763, 0.00218, 0.3713 }},
    {416, { 0.08695811, 0.0024548, 0.4162091 }},
    {417, { 0.09717672, 0.002764, 0.4654642 }},
    {418, { 0.1084063, 0.0031178, 0.5196948 }},
    {419, { 0.1207672, 0.0035264, 0.5795303 }},
    {420, { 0.13438, 0.004, 0.6456 }},
    {421, { 0.1493582, 0.00454624, 0.7184838 }},
    {422, { 0.1653957, 0.00515932, 0.7967133 }},
    {423, { 0.1819831, 0.00582928, 0.8778459 }},
    {424, { 0.198611, 0.00654616, 0.959439 }},
    {425, { 0.21477, 0.0073, 1.0390501 }},
    {426, { 0.2301868, 0.008086507, 1.1153673 }},
    {427, { 0.2448797, 0.00890872, 1.1884971 }},
    {428, { 0.2587773, 0.00976768, 1.2581233 }},
    {429, { 0.2718079, 0.01066443, 1.3239296 }},
    {430, { 0.2839, 0.0116, 1.3856 }},
    {431, { 0.2949438, 0.01257317, 1.4426352 }},
    {432, { 0.3048965, 0.01358272, 1.4948035 }},
    {433, { 0.3137873, 0.01462968, 1.5421903 }},
    {434, { 0.3216454, 0.01571509, 1.5848807 }},
    {435, { 0.3285, 0.01684, 1.62296 }},
    {436, { 0.3343513, 0.01800736, 1.6564048 }},
    {437, { 0.3392101, 0.01921448, 1.6852959 }},
    {438, { 0.3431213, 0.02045392, 1.7098745 }},
    {439, { 0.3461296, 0.02171824, 1.7303821 }},
    {440, { 0.34828, 0.023, 1.74706 }},
    {441, { 0.3495999, 0.02429461, 1.7600446 }},
    {442, { 0.3501474, 0.02561024, 1.7696233 }},
    {443, { 0.350013, 0.02695857, 1.7762637 }},
    {444, { 0.349287, 0.02835125, 1.7804334 }},
    {445, { 0.34806, 0.0298, 1.7826 }},
    {446, { 0.3463733, 0.03131083, 1.7829682 }},
    {447, { 0.3442624, 0.03288368, 1.7816998 }},
    {448, { 0.3418088, 0.03452112, 1.7791982 }},
    {449, { 0.3390941, 0.03622571, 1.7758671 }},
    {450, { 0.3362, 0.038, 1.77211 }},
    {451, { 0.3331977, 0.03984667, 1.7682589 }},
    {452, { 0.3300411, 0.041768, 1.764039 }},
    {453, { 0.3266357, 0.043766, 1.7589438 }},
    {454, { 0.3228868, 0.04584267, 1.7524663 }},
    {455, { 0.3187, 0.048, 1.7441 }},
    {456, { 0.3140251, 0.05024368, 1.7335595 }},
    {457, { 0.308884, 0.05257304, 1.7208581 }},
    {458, { 0.3032904, 0.05498056, 1.7059369 }},
    {459, { 0.2972579, 0.05745872, 1.6887372 }},
    {460, { 0.2908, 0.06, 1.6692 }},
    {461, { 0.2839701, 0.06260197, 1.6475287 }},
    {462, { 0.2767214, 0.06527752, 1.6234127 }},
    {463, { 0.2689178, 0.06804208, 1.5960223 }},
    {464, { 0.2604227, 0.07091109, 1.564528 }},
    {465, { 0.2511, 0.0739, 1.5281 }},
    {466, { 0.2408475, 0.077016, 1.4861114 }},
    {467, { 0.2298512, 0.0802664, 1.4395215 }},
    {468, { 0.2184072, 0.0836668, 1.3898799 }},
    {469, { 0.2068115, 0.0872328, 1.3387362 }},
    {470, { 0.19536, 0.09098, 1.28764 }},
    {471, { 0.1842136, 0.09491755, 1.2374223 }},
    {472, { 0.1733273, 0.09904584, 1.1878243 }},
    {473, { 0.1626881, 0.1033674, 1.1387611 }},
    {474, { 0.1522833, 0.1078846, 1.090148 }},
    {475, { 0.1421, 0.1126, 1.0419 }},
    {476, { 0.1321786, 0.117532, 0.9941976 }},
    {477, { 0.1225696, 0.1226744, 0.9473473 }},
    {478, { 0.1132752, 0.1279928, 0.9014531 }},
    {479, { 0.1042979, 0.1334528, 0.8566193 }},
    {480, { 0.09564, 0.13902, 0.8129501 }},
    {481, { 0.08729955, 0.1446764, 0.7705173 }},
    {482, { 0.07930804, 0.1504693, 0.7294448 }},
    {483, { 0.07171776, 0.1564619, 0.6899136 }},
    {484, { 0.06458099, 0.1627177, 0.6521049 }},
    {485, { 0.05795001, 0.1693, 0.6162 }},
    {486, { 0.05186211, 0.1762431, 0.5823286 }},
    {487, { 0.04628152, 0.1835581, 0.5504162 }},
    {488, { 0.04115088, 0.1912735, 0.5203376 }},
    {489, { 0.03641283, 0.199418, 0.4919673 }},
    {490, { 0.03201, 0.20802, 0.46518 }},
    {491, { 0.0279172, 0.2171199, 0.4399246 }},
    {492, { 0.0241444, 0.2267345, 0.4161836 }},
    {493, { 0.020687, 0.2368571, 0.3938822 }},
    {494, { 0.0175404, 0.2474812, 0.3729459 }},
    {495, { 0.0147, 0.2586, 0.3533 }},
    {496, { 0.01216179, 0.2701849, 0.3348578 }},
    {497, { 0.00991996, 0.2822939, 0.3175521 }},
    {498, { 0.00796724, 0.2950505, 0.3013375 }},
    {499, { 0.006296346, 0.308578, 0.2861686 }},
    {500, { 0.0049, 0.323, 0.272 }},
    {501, { 0.003777173, 0.3384021, 0.2588171 }},
    {502, { 0.00294532, 0.3546858, 0.2464838 }},
    {503, { 0.00242488, 0.3716986, 0.2347718 }},
    {504, { 0.002236293, 0.3892875, 0.2234533 }},
    {505, { 0.0024, 0.4073, 0.2123 }},
    {506, { 0.00292552, 0.4256299, 0.2011692 }},
    {507, { 0.00383656, 0.4443096, 0.1901196 }},
    {508, { 0.00517484, 0.4633944, 0.1792254 }},
    {509, { 0.00698208, 0.4829395, 0.1685608 }},
    {510, { 0.0093, 0.503, 0.1582 }},
    {511, { 0.01214949, 0.5235693, 0.1481383 }},
    {512, { 0.01553588, 0.544512, 0.1383758 }},
    {513, { 0.01947752, 0.56569, 0.1289942 }},
    {514, { 0.02399277, 0.5869653, 0.1200751 }},
    {515, { 0.0291, 0.6082, 0.1117 }},
    {516, { 0.03481485, 0.6293456, 0.1039048 }},
    {517, { 0.04112016, 0.6503068, 0.09666748 }},
    {518, { 0.04798504, 0.6708752, 0.08998272 }},
    {519, { 0.05537861, 0.6908424, 0.08384531 }},
    {520, { 0.06327, 0.71, 0.07824999 }},
    {521, { 0.07163501, 0.7281852, 0.07320899 }},
    {522, { 0.08046224, 0.7454636, 0.06867816 }},
    {523, { 0.08973996, 0.7619694, 0.06456784 }},
    {524, { 0.09945645, 0.7778368, 0.06078835 }},
    {525, { 0.1096, 0.7932, 0.05725001 }},
    {526, { 0.1201674, 0.8081104, 0.05390435 }},
    {527, { 0.1311145, 0.8224962, 0.05074664 }},
    {528, { 0.1423679, 0.8363068, 0.04775276 }},
    {529, { 0.1538542, 0.8494916, 0.04489859 }},
    {530, { 0.1655, 0.862, 0.04216 }},
    {531, { 0.1772571, 0.8738108, 0.03950728 }},
    {532, { 0.18914, 0.8849624, 0.03693564 }},
    {533, { 0.2011694, 0.8954936, 0.03445836 }},
    {534, { 0.2133658, 0.9054432, 0.03208872 }},
    {535, { 0.2257499, 0.9148501, 0.02984 }},
    {536, { 0.2383209, 0.9237348, 0.02771181 }},
    {537, { 0.2510668, 0.9320924, 0.02569444 }},
    {538, { 0.2639922, 0.9399226, 0.02378716 }},
    {539, { 0.2771017, 0.9472252, 0.02198925 }},
    {540, { 0.2904, 0.954, 0.0203 }},
    {541, { 0.3038912, 0.9602561, 0.01871805 }},
    {542, { 0.3175726, 0.9660074, 0.01724036 }},
    {543, { 0.3314384, 0.9712606, 0.01586364 }},
    {544, { 0.3454828, 0.9760225, 0.01458461 }},
    {545, { 0.3597, 0.9803, 0.0134 }},
    {546, { 0.3740839, 0.9840924, 0.01230723 }},
    {547, { 0.3886396, 0.9874182, 0.01130188 }},
    {548, { 0.4033784, 0.9903128, 0.01037792 }},
    {549, { 0.4183115, 0.9928116, 0.009529306 }},
    {550, { 0.4334499, 0.9949501, 0.008749999 }},
    {551, { 0.4487953, 0.9967108, 0.0080352 }},
    {552, { 0.464336, 0.9980983, 0.0073816 }},
    {553, { 0.480064, 0.999112, 0.0067854 }},
    {554, { 0.4959713, 0.9997482, 0.0062428 }},
    {555, { 0.5120501, 1, 0.005749999 }},
    {556, { 0.5282959, 0.9998567, 0.0053036 }},
    {557, { 0.5446916, 0.9993046, 0.0048998 }},
    {558, { 0.5612094, 0.9983255, 0.0045342 }},
    {559, { 0.5778215, 0.9968987, 0.0042024 }},
    {560, { 0.5945, 0.995, 0.0039 }},
    {561, { 0.6112209, 0.9926005, 0.0036232 }},
    {562, { 0.6279758, 0.9897426, 0.0033706 }},
    {563, { 0.6447602, 0.9864444, 0.0031414 }},
    {564, { 0.6615697, 0.9827241, 0.0029348 }},
    {565, { 0.6784, 0.9786, 0.002749999 }},
    {566, { 0.6952392, 0.9740837, 0.0025852 }},
    {567, { 0.7120586, 0.9691712, 0.0024386 }},
    {568, { 0.7288284, 0.9638568, 0.0023094 }},
    {569, { 0.7455188, 0.9581349, 0.0021968 }},
    {570, { 0.7621, 0.952, 0.0021 }},
    {571, { 0.7785432, 0.9454504, 0.002017733 }},
    {572, { 0.7948256, 0.9384992, 0.0019482 }},
    {573, { 0.8109264, 0.9311628, 0.0018898 }},
    {574, { 0.8268248, 0.9234576, 0.001840933 }},
    {575, { 0.8425, 0.9154, 0.0018 }},
    {576, { 0.8579325, 0.9070064, 0.001766267 }},
    {577, { 0.8730816, 0.8982772, 0.0017378 }},
    {578, { 0.8878944, 0.8892048, 0.0017112 }},
    {579, { 0.9023181, 0.8797816, 0.001683067 }},
    {580, { 0.9163, 0.87, 0.001650001 }},
    {581, { 0.9297995, 0.8598613, 0.001610133 }},
    {582, { 0.9427984, 0.849392, 0.0015644 }},
    {583, { 0.9552776, 0.838622, 0.0015136 }},
    {584, { 0.9672179, 0.8275813, 0.001458533 }},
    {585, { 0.9786, 0.8163, 0.0014 }},
    {586, { 0.9893856, 0.8047947, 0.001336667 }},
    {587, { 0.9995488, 0.793082, 0.00127 }},
    {588, { 1.0090892, 0.781192, 0.001205 }},
    {589, { 1.0180064, 0.7691547, 0.001146667 }},
    {590, { 1.0263, 0.757, 0.0011 }},
    {591, { 1.0339827, 0.7447541, 0.0010688 }},
    {592, { 1.040986, 0.7324224, 0.0010494 }},
    {593, { 1.047188, 0.7200036, 0.0010356 }},
    {594, { 1.0524667, 0.7074965, 0.0010212 }},
    {595, { 1.0567, 0.6949, 0.001 }},
    {596, { 1.0597944, 0.6822192, 0.00096864 }},
    {597, { 1.0617992, 0.6694716, 0.00092992 }},
    {598, { 1.0628068, 0.6566744, 0.00088688 }},
    {599, { 1.0629096, 0.6438448, 0.00084256 }},
    {600, { 1.0622, 0.631, 0.0008 }},
    {601, { 1.0607352, 0.6181555, 0.00076096 }},
    {602, { 1.0584436, 0.6053144, 0.00072368 }},
    {603, { 1.0552244, 0.5924756, 0.00068592 }},
    {604, { 1.0509768, 0.5796379, 0.00064544 }},
    {605, { 1.0456, 0.5668, 0.0006 }},
    {606, { 1.0390369, 0.5539611, 0.000547867 }},
    {607, { 1.0313608, 0.5411372, 0.0004916 }},
    {608, { 1.0226662, 0.5283528, 0.0004354 }},
    {609, { 1.0130477, 0.5156323, 0.000383467 }},
    {610, { 1.0026, 0.503, 0.00034 }},
    {611, { 0.9913675, 0.4904688, 0.000307253 }},
    {612, { 0.9793314, 0.4780304, 0.00028316 }},
    {613, { 0.9664916, 0.4656776, 0.00026544 }},
    {614, { 0.9528479, 0.4534032, 0.000251813 }},
    {615, { 0.9384, 0.4412, 0.00024 }},
    {616, { 0.923194, 0.42908, 0.000229547 }},
    {617, { 0.907244, 0.417036, 0.00022064 }},
    {618, { 0.890502, 0.405032, 0.00021196 }},
    {619, { 0.87292, 0.393032, 0.000202187 }},
    {620, { 0.8544499, 0.381, 0.00019 }},
    {621, { 0.835084, 0.3689184, 0.000174213 }},
    {622, { 0.814946, 0.3568272, 0.00015564 }},
    {623, { 0.794186, 0.3447768, 0.00013596 }},
    {624, { 0.772954, 0.3328176, 0.000116853 }},
    {625, { 0.7514, 0.321, 0.0001 }},
    {626, { 0.7295836, 0.3093381, 8.61E-05 }},
    {627, { 0.7075888, 0.2978504, 7.46E-05 }},
    {628, { 0.6856022, 0.2865936, 6.50E-05 }},
    {629, { 0.6638104, 0.2756245, 5.69E-05 }},
    {630, { 0.6424, 0.265, 5.00E-05 }},
    {631, { 0.6215149, 0.2547632, 4.42E-05 }},
    {632, { 0.6011138, 0.2448896, 3.95E-05 }},
    {633, { 0.5811052, 0.2353344, 3.57E-05 }},
    {634, { 0.5613977, 0.2260528, 3.26E-05 }},
    {635, { 0.5419, 0.217, 3.00E-05 }},
    {636, { 0.5225995, 0.2081616, 2.77E-05 }},
    {637, { 0.5035464, 0.1995488, 2.56E-05 }},
    {638, { 0.4847436, 0.1911552, 2.36E-05 }},
    {639, { 0.4661939, 0.1829744, 2.18E-05 }},
    {640, { 0.4479, 0.175, 2.00E-05 }},
    {641, { 0.4298613, 0.1672235, 1.81E-05 }},
    {642, { 0.412098, 0.1596464, 1.62E-05 }},
    {643, { 0.394644, 0.1522776, 1.42E-05 }},
    {644, { 0.3775333, 0.1451259, 1.21E-05 }},
    {645, { 0.3608, 0.1382, 1.00E-05 }},
    {646, { 0.3444563, 0.1315003, 7.73E-06 }},
    {647, { 0.3285168, 0.1250248, 5.40E-06 }},
    {648, { 0.3130192, 0.1187792, 3.20E-06 }},
    {649, { 0.2980011, 0.1127691, 1.33E-06 }},
    {650, { 0.2835, 0.107, 0 }},
    {651, { 0.2695448, 0.1014762, 0 }},
    {652, { 0.2561184, 0.09618864, 0 }},
    {653, { 0.2431896, 0.09112296, 0 }},
    {654, { 0.2307272, 0.08626485, 0 }},
    {655, { 0.2187, 0.0816, 0 }},
    {656, { 0.2070971, 0.07712064, 0 }},
    {657, { 0.1959232, 0.07282552, 0 }},
    {658, { 0.1851708, 0.06871008, 0 }},
    {659, { 0.1748323, 0.06476976, 0 }},
    {660, { 0.1649, 0.061, 0 }},
    {661, { 0.1553667, 0.05739621, 0 }},
    {662, { 0.14623, 0.05395504, 0 }},
    {663, { 0.13749, 0.05067376, 0 }},
    {664, { 0.1291467, 0.04754965, 0 }},
    {665, { 0.1212, 0.04458, 0 }},
    {666, { 0.1136397, 0.04175872, 0 }},
    {667, { 0.106465, 0.03908496, 0 }},
    {668, { 0.09969044, 0.03656384, 0 }},
    {669, { 0.09333061, 0.03420048, 0 }},
    {670, { 0.0874, 0.032, 0 }},
    {671, { 0.08190096, 0.02996261, 0 }},
    {672, { 0.07680428, 0.02807664, 0 }},
    {673, { 0.07207712, 0.02632936, 0 }},
    {674, { 0.06768664, 0.02470805, 0 }},
    {675, { 0.0636, 0.0232, 0 }},
    {676, { 0.05980685, 0.02180077, 0 }},
    {677, { 0.05628216, 0.02050112, 0 }},
    {678, { 0.05297104, 0.01928108, 0 }},
    {679, { 0.04981861, 0.01812069, 0 }},
    {680, { 0.04677, 0.017, 0 }},
    {681, { 0.04378405, 0.01590379, 0 }},
    {682, { 0.04087536, 0.01483718, 0 }},
    {683, { 0.03807264, 0.01381068, 0 }},
    {684, { 0.03540461, 0.01283478, 0 }},
    {685, { 0.0329, 0.01192, 0 }},
    {686, { 0.03056419, 0.01106831, 0 }},
    {687, { 0.02838056, 0.01027339, 0 }},
    {688, { 0.02634484, 0.009533311, 0 }},
    {689, { 0.02445275, 0.008846157, 0 }},
    {690, { 0.0227, 0.00821, 0 }},
    {691, { 0.02108429, 0.007623781, 0 }},
    {692, { 0.01959988, 0.007085424, 0 }},
    {693, { 0.01823732, 0.006591476, 0 }},
    {694, { 0.01698717, 0.006138485, 0 }},
    {695, { 0.01584, 0.005723, 0 }},
    {696, { 0.01479064, 0.005343059, 0 }},
    {697, { 0.01383132, 0.004995796, 0 }},
    {698, { 0.01294868, 0.004676404, 0 }},
    {699, { 0.0121292, 0.004380075, 0 }},
    {700, { 0.01135916, 0.004102, 0 }},
    {701, { 0.01062935, 0.003838453, 0 }},
    {702, { 0.009938846, 0.003589099, 0 }},
    {703, { 0.009288422, 0.003354219, 0 }},
    {704, { 0.008678854, 0.003134093, 0 }},
    {705, { 0.008110916, 0.002929, 0 }},
    {706, { 0.007582388, 0.002738139, 0 }},
    {707, { 0.007088746, 0.002559876, 0 }},
    {708, { 0.006627313, 0.002393244, 0 }},
    {709, { 0.006195408, 0.002237275, 0 }},
    {710, { 0.005790346, 0.002091, 0 }},
    {711, { 0.005409826, 0.001953587, 0 }},
    {712, { 0.005052583, 0.00182458, 0 }},
    {713, { 0.004717512, 0.00170358, 0 }},
    {714, { 0.004403507, 0.001590187, 0 }},
    {715, { 0.004109457, 0.001484, 0 }},
    {716, { 0.003833913, 0.001384496, 0 }},
    {717, { 0.003575748, 0.001291268, 0 }},
    {718, { 0.003334342, 0.001204092, 0 }},
    {719, { 0.003109075, 0.001122744, 0 }},
    {720, { 0.002899327, 0.001047, 0 }},
    {721, { 0.002704348, 0.00097659, 0 }},
    {722, { 0.00252302, 0.000911109, 0 }},
    {723, { 0.002354168, 0.000850133, 0 }},
    {724, { 0.002196616, 0.000793238, 0 }},
    {725, { 0.00204919, 0.00074, 0 }},
    {726, { 0.00191096, 0.000690083, 0 }},
    {727, { 0.001781438, 0.00064331, 0 }},
    {728, { 0.00166011, 0.000599496, 0 }},
    {729, { 0.001546459, 0.000558455, 0 }},
    {730, { 0.001439971, 0.00052, 0 }},
    {731, { 0.001340042, 0.000483914, 0 }},
    {732, { 0.001246275, 0.000450053, 0 }},
    {733, { 0.001158471, 0.000418345, 0 }},
    {734, { 0.00107643, 0.000388718, 0 }},
    {735, { 0.000999949, 0.0003611, 0 }},
    {736, { 0.000928736, 0.000335384, 0 }},
    {737, { 0.000862433, 0.00031144, 0 }},
    {738, { 0.00080075, 0.000289166, 0 }},
    {739, { 0.000743396, 0.000268454, 0 }},
    {740, { 0.000690079, 0.0002492, 0 }},
    {741, { 0.000640516, 0.000231302, 0 }},
    {742, { 0.000594502, 0.000214686, 0 }},
    {743, { 0.000551865, 0.000199288, 0 }},
    {744, { 0.000512429, 0.000185048, 0 }},
    {745, { 0.000476021, 0.0001719, 0 }},
    {746, { 0.000442454, 0.000159778, 0 }},
    {747, { 0.000411512, 0.000148604, 0 }},
    {748, { 0.000382981, 0.000138302, 0 }},
    {749, { 0.000356649, 0.000128793, 0 }},
    {750, { 0.000332301, 0.00012, 0 }},
    {751, { 0.000309759, 0.00011186, 0 }},
    {752, { 0.000288887, 0.000104322, 0 }},
    {753, { 0.000269539, 9.73E-05, 0 }},
    {754, { 0.000251568, 9.08E-05, 0 }},
    {755, { 0.000234826, 8.48E-05, 0 }},
    {756, { 0.000219171, 7.91E-05, 0 }},
    {757, { 0.000204526, 7.39E-05, 0 }},
    {758, { 0.000190841, 6.89E-05, 0 }},
    {759, { 0.000178065, 6.43E-05, 0 }},
    {760, { 0.000166151, 6.00E-05, 0 }},
    {761, { 0.000155024, 5.60E-05, 0 }},
    {762, { 0.000144622, 5.22E-05, 0 }},
    {763, { 0.00013491, 4.87E-05, 0 }},
    {764, { 0.000125852, 4.54E-05, 0 }},
    {765, { 0.000117413, 4.24E-05, 0 }},
    {766, { 0.000109552, 3.96E-05, 0 }},
    {767, { 0.000102225, 3.69E-05, 0 }},
    {768, { 9.54E-05, 3.44E-05, 0 }},
    {769, { 8.90E-05, 3.21E-05, 0 }},
    {770, { 8.31E-05, 3.00E-05, 0 }},
    {771, { 7.75E-05, 2.80E-05, 0 }},
    {772, { 7.23E-05, 2.61E-05, 0 }},
    {773, { 6.75E-05, 2.44E-05, 0 }},
    {774, { 6.29E-05, 2.27E-05, 0 }},
    {775, { 5.87E-05, 2.12E-05, 0 }},
    {776, { 5.48E-05, 1.98E-05, 0 }},
    {777, { 5.11E-05, 1.85E-05, 0 }},
    {778, { 4.77E-05, 1.72E-05, 0 }},
    {779, { 4.45E-05, 1.61E-05, 0 }},
    {780, { 4.15E-05, 1.50E-05, 0 }},
    {781, { 3.87E-05, 1.40E-05, 0 }},
    {782, { 3.61E-05, 1.31E-05, 0 }},
    {783, { 3.37E-05, 1.22E-05, 0 }},
    {784, { 3.15E-05, 1.14E-05, 0 }},
    {785, { 2.94E-05, 1.06E-05, 0 }},
    {786, { 2.74E-05, 9.89E-06, 0 }},
    {787, { 2.55E-05, 9.22E-06, 0 }},
    {788, { 2.38E-05, 8.59E-06, 0 }},
    {789, { 2.22E-05, 8.01E-06, 0 }},
    {790, { 2.07E-05, 7.47E-06, 0 }},
    {791, { 1.93E-05, 6.96E-06, 0 }},
    {792, { 1.80E-05, 6.49E-06, 0 }},
    {793, { 1.67E-05, 6.05E-06, 0 }},
    {794, { 1.56E-05, 5.64E-06, 0 }},
    {795, { 1.46E-05, 5.26E-06, 0 }},
    {796, { 1.36E-05, 4.90E-06, 0 }},
    {797, { 1.27E-05, 4.57E-06, 0 }},
    {798, { 1.18E-05, 4.26E-06, 0 }},
    {799, { 1.10E-05, 3.97E-06, 0 }},
    {800, { 1.03E-05, 3.70E-06, 0 }},
    {801, { 9.56E-06, 3.45E-06, 0 }},
    {802, { 8.91E-06, 3.22E-06, 0 }},
    {803, { 8.31E-06, 3.00E-06, 0 }},
    {804, { 7.75E-06, 2.80E-06, 0 }},
    {805, { 7.22E-06, 2.61E-06, 0 }},
    {806, { 6.73E-06, 2.43E-06, 0 }},
    {807, { 6.28E-06, 2.27E-06, 0 }},
    {808, { 5.85E-06, 2.11E-06, 0 }},
    {809, { 5.46E-06, 1.97E-06, 0 }},
    {810, { 5.09E-06, 1.84E-06, 0 }},
    {811, { 4.74E-06, 1.71E-06, 0 }},
    {812, { 4.42E-06, 1.60E-06, 0 }},
    {813, { 4.12E-06, 1.49E-06, 0 }},
    {814, { 3.84E-06, 1.39E-06, 0 }},
    {815, { 3.58E-06, 1.29E-06, 0 }},
    {816, { 3.34E-06, 1.21E-06, 0 }},
    {817, { 3.11E-06, 1.12E-06, 0 }},
    {818, { 2.90E-06, 1.05E-06, 0 }},
    {819, { 2.71E-06, 9.77E-07, 0 }},
    {820, { 2.52E-06, 9.11E-07, 0 }},
    {821, { 2.35E-06, 8.49E-07, 0 }},
    {822, { 2.19E-06, 7.92E-07, 0 }},
    {823, { 2.04E-06, 7.38E-07, 0 }},
    {824, { 1.91E-06, 6.88E-07, 0 }},
    {825, { 1.78E-06, 6.42E-07, 0 }},
    {826, { 1.66E-06, 5.98E-07, 0 }},
    {827, { 1.54E-06, 5.58E-07, 0 }},
    {828, { 1.44E-06, 5.20E-07, 0 }},
    {829, { 1.34E-06, 4.85E-07, 0 }}
};

//static const struct {
//    const char* maker;
//    const char* model;
//    uint8_t interval;
//    RGBSen sense[81];
//} CameraSen[] = {
//    { "ARRI", "D21", 5,
//        {{ 0.000188205, 8.59E-05, 9.58E-05 },
//            { 0.000440222, 0.000166118, 0.000258734 },
//            { 0.001561591, 0.00046321, 0.001181466 },
//            { 0.006218858, 0.001314864, 0.006881015 },
//            { 0.022246734, 0.003696276, 0.031937733 },
//            { 0.049120511, 0.00805609, 0.087988515 },
//            { 0.102812947, 0.017241631, 0.216210301 },
//            { 0.105467801, 0.021953991, 0.276918236 },
//            { 0.117352663, 0.028731455, 0.384008295 },
//            { 0.108489774, 0.036438901, 0.498308108 },
//            { 0.078494347, 0.037473311, 0.485933057 },
//            { 0.06542927, 0.047763009, 0.618489235 },
//            { 0.05126662, 0.057989658, 0.696558624 },
//            { 0.038300854, 0.063272391, 0.711794157 },
//            { 0.036088371, 0.078451972, 0.821540625 },
//            { 0.038076306, 0.099730024, 0.918286066 },
//            { 0.036894365, 0.112097767, 0.818615612 },
//            { 0.044395944, 0.156013174, 0.907103055 },
//            { 0.055918682, 0.217501304, 1 },
//            { 0.060307176, 0.238434493, 0.86480047 },
//            { 0.066779015, 0.269670797, 0.878082723 },
//            { 0.074505107, 0.300101812, 0.874303769 },
//            { 0.07562978, 0.290737255, 0.704674036 },
//            { 0.085791103, 0.328330642, 0.628143997 },
//            { 0.108943209, 0.424666004, 0.588816784 },
//            { 0.138099867, 0.523135173, 0.513082855 },
//            { 0.168736396, 0.591697868, 0.436252915 },
//            { 0.220667659, 0.742521719, 0.392230422 },
//            { 0.268662105, 0.832207187, 0.343540362 },
//            { 0.321560163, 0.912162297, 0.312675861 },
//            { 0.37671682, 0.976493082, 0.304109232 },
//            { 0.410777194, 0.973507973, 0.292240658 },
//            { 0.421878401, 1.0, 0.291164917 },
//            { 0.388993508, 0.931244461, 0.269598208 },
//            { 0.354154608, 0.889356652, 0.248312101 },
//            { 0.34283344, 0.762661473, 0.213286579 },
//            { 0.380725719, 0.693921344, 0.194295275 },
//            { 0.469885563, 0.5991218, 0.170597248 },
//            { 0.599407862, 0.530315531, 0.155055826 },
//            { 0.713821326, 0.418038191, 0.1317383 },
//            { 0.80813316, 0.340043294, 0.116047887 },
//            { 0.939975954, 0.27676007, 0.104954578 },
//            { 1.0, 0.217867885, 0.093258038 },
//            { 0.956064245, 0.155062572, 0.076556466 },
//            { 0.894704087, 0.11537981, 0.064641572 },
//            { 0.767742902, 0.089103008, 0.053623886 },
//            { 0.798777151, 0.083004112, 0.052099277 },
//            { 0.763111509, 0.075973825, 0.04909842 },
//            { 0.682557924, 0.067551041, 0.044677337 },
//            { 0.56116663, 0.056571832, 0.0382092 },
//            { 0.436680781, 0.045437665, 0.031713716 },
//            { 0.414781937, 0.042487508, 0.030781211 },
//            { 0.380963428, 0.03912278, 0.029786697 },
//            { 0.305406639, 0.032338965, 0.026385578 },
//            { 0.260012751, 0.028342775, 0.02448327 },
//            { 0.191033296, 0.022001542, 0.020646569 },
//            { 0.141171909, 0.017151907, 0.017480635 },
//            { 0.122396106, 0.01528005, 0.015881482 },
//            { 0.102299712, 0.013443924, 0.01414462 },
//            { 0.07855096, 0.011348793, 0.011965207 },
//            { 0.060474144, 0.009399874, 0.009474274 },
//            { 0.041685047, 0.007185144, 0.006997807 },
//            { 0.028123563, 0.005351653, 0.005182991 },
//            { 0.02203961, 0.004473424, 0.004168945 },
//            { 0.017482165, 0.003764279, 0.003387594 },
//            { 0.012357413, 0.002865598, 0.002507749 },
//            { 0.008721969, 0.001999441, 0.001714727 },
//            { 0.006462905, 0.001438107, 0.001233306 },
//            { 0.00454705, 0.001049424, 0.000918575 },
//            { 0.002933579, 0.000695583, 0.000587696 },
//            { 0.00211892, 0.000533403, 0.000436494 },
//            { 0.001499002, 0.000394215, 0.000315097 },
//            { 0.001022687, 0.000293059, 0.000238467 },
//            { 0.000681853, 0.000211926, 0.000168269 },
//            { 0.000561613, 0.000202539, 0.000170632 },
//            { 0.000384839, 0.000125687, 8.94E-05 },
//            { 0.000286597, 0.000104774, 6.92E-05 },
//            { 0.000269169, 0.000138887, 0.000126057 },
//            { 0.000163058, 6.47E-05, 4.57E-05 },
//            { 0.000149065, 7.26E-05, 5.84E-05 },
//            { 3.71E-05,    0.0,      2.70E-06 }
//      }
//    },
//    { "CANON", "5D", 5,
//        {{ 0.0354, 0.0359, 0.0334 },
//            { 0.0325, 0.0329, 0.0327 },
//            { 0.0295, 0.03, 0.032 },
//            { 0.0234, 0.0248, 0.0299 },
//            { 0.0173, 0.0197, 0.0279 },
//            { 0.0167, 0.0218, 0.087 },
//            { 0.0162, 0.024, 0.1461 },
//            { 0.0171, 0.0368, 0.3299 },
//            { 0.0181, 0.0495, 0.5138 },
//            { 0.016, 0.0519, 0.5756 },
//            { 0.0139, 0.0542, 0.6375 },
//            { 0.0132, 0.0676, 0.6833 },
//            { 0.0125, 0.0809, 0.7291 },
//            { 0.0116, 0.0856, 0.7736 },
//            { 0.0107, 0.0902, 0.818 },
//            { 0.0108, 0.1084, 0.8347 },
//            { 0.0109, 0.1267, 0.8515 },
//            { 0.0107, 0.2031, 0.8425 },
//            { 0.0105, 0.2794, 0.8336 },
//            { 0.0116, 0.4046, 0.777 },
//            { 0.0126, 0.5298, 0.7204 },
//            { 0.0122, 0.5757, 0.6666 },
//            { 0.0118, 0.6216, 0.6129 },
//            { 0.0156, 0.7252, 0.5315 },
//            { 0.0195, 0.8288, 0.4501 },
//            { 0.0296, 0.8789, 0.3852 },
//            { 0.0397, 0.9289, 0.3204 },
//            { 0.0655, 0.9532, 0.2443 },
//            { 0.0912, 0.9776, 0.1682 },
//            { 0.129, 0.9888, 0.1296 },
//            { 0.1667, 1.0, 0.091 },
//            { 0.166, 0.9462, 0.0717 },
//            { 0.1654, 0.8925, 0.0524 },
//            { 0.157, 0.8774, 0.0438 },
//            { 0.1487, 0.8624, 0.0351 },
//            { 0.1652, 0.8028, 0.0283 },
//            { 0.1817, 0.7431, 0.0216 },
//            { 0.2369, 0.6965, 0.0189 },
//            { 0.292, 0.6499, 0.0163 },
//            { 0.3631, 0.5731, 0.0147 },
//            { 0.4343, 0.4963, 0.0131 },
//            { 0.4628, 0.4256, 0.0119 },
//            { 0.4914, 0.355, 0.0107 },
//            { 0.5025, 0.2939, 0.0102 },
//            { 0.5136, 0.2328, 0.0098 },
//            { 0.4774, 0.1707, 0.0088 },
//            { 0.4413, 0.1087, 0.0079 },
//            { 0.4119, 0.0843, 0.0074 },
//            { 0.3824, 0.0599, 0.0068 },
//            { 0.3479, 0.0471, 0.0069 },
//            { 0.3134, 0.0344, 0.0069 },
//            { 0.2808, 0.0289, 0.0072 },
//            { 0.2482, 0.0235, 0.0075 },
//            { 0.2119, 0.019, 0.0077 },
//            { 0.1757, 0.0146, 0.0078 },
//            { 0.1561, 0.0137, 0.008 },
//            { 0.1366, 0.0128, 0.0082 },
//            { 0.1093, 0.012, 0.0076 },
//            { 0.082, 0.0111, 0.007 },
//            { 0.0592, 0.0093, 0.0062 },
//            { 0.0365, 0.0075, 0.0054 },
//            { 0.023, 0.0071, 0.0056 },
//            { 0.0095, 0.0066, 0.0059 },
//            { 0.0086, 0.0069, 0.0063 },
//            { 0.0076, 0.0072, 0.0067 },
//            { 0.0073, 0.0068, 0.0065 },
//            { 0.007, 0.0064, 0.0064 },
//            { 0.007, 0.0069, 0.0068 },
//            { 0.007, 0.0073, 0.0073 },
//            { 0.0061, 0.0063, 0.0063 },
//            { 0.0052, 0.0053, 0.0053 },
//            { 0.0042, 0.0044, 0.0044 },
//            { 0.0033, 0.0034, 0.0034 },
//            { 0.0024, 0.0024, 0.0024 },
//            { 0.0015, 0.0014, 0.0014 },
//            { 0.0017, 0.0017, 0.0016 },
//            { 0.0019, 0.0019, 0.0018 },
//            { 0.0021, 0.0021, 0.0021 },
//            { 0.0023, 0.0023, 0.0023 },
//            { 0.0025, 0.0025, 0.0025 },
//            { 0.0027, 0.0027, 0.0027 }
//        }
//    },
//    { "CANON", "S90", 5,
//        {{ 0.0126, 0.0237, 0.0165 },
//            { 0.0117, 0.0199, 0.0164 },
//            { 0.0107, 0.0161, 0.0163 },
//            { 0.0089, 0.0156, 0.0152 },
//            { 0.007, 0.0152, 0.0141 },
//            { 0.0119, 0.0249, 0.0749 },
//            { 0.0168, 0.0347, 0.1357 },
//            { 0.0282, 0.0661, 0.2702 },
//            { 0.0397, 0.0975, 0.4047 },
//            { 0.0364, 0.1055, 0.432 },
//            { 0.0331, 0.1135, 0.4592 },
//            { 0.0323, 0.1327, 0.504 },
//            { 0.0316, 0.152, 0.5488 },
//            { 0.03, 0.1784, 0.599 },
//            { 0.0284, 0.2048, 0.6492 },
//            { 0.0277, 0.2441, 0.675 },
//            { 0.027, 0.2834, 0.7007 },
//            { 0.0306, 0.3405, 0.7068 },
//            { 0.0342, 0.3976, 0.7128 },
//            { 0.0363, 0.4353, 0.6715 },
//            { 0.0383, 0.473, 0.6301 },
//            { 0.0368, 0.4849, 0.5886 },
//            { 0.0353, 0.4968, 0.5471 },
//            { 0.0377, 0.5697, 0.4714 },
//            { 0.0401, 0.6426, 0.3957 },
//            { 0.0462, 0.7061, 0.3426 },
//            { 0.0523, 0.7697, 0.2894 },
//            { 0.0682, 0.8313, 0.2343 },
//            { 0.0841, 0.8929, 0.1792 },
//            { 0.0888, 0.9464, 0.1544 },
//            { 0.0935, 1.0, 0.1296 },
//            { 0.0748, 0.9597, 0.1084 },
//            { 0.0562, 0.9194, 0.0873 },
//            { 0.048, 0.9147, 0.0732 },
//            { 0.0398, 0.9099, 0.0591 },
//            { 0.0388, 0.8743, 0.0462 },
//            { 0.0377, 0.8388, 0.0333 },
//            { 0.0577, 0.8146, 0.0279 },
//            { 0.0778, 0.7904, 0.0225 },
//            { 0.3061, 0.7439, 0.0195 },
//            { 0.5344, 0.6975, 0.0166 },
//            { 0.6576, 0.6265, 0.0147 },
//            { 0.7808, 0.5555, 0.0129 },
//            { 0.7927, 0.5005, 0.0121 },
//            { 0.8046, 0.4454, 0.0113 },
//            { 0.7924, 0.3736, 0.0108 },
//            { 0.7802, 0.3019, 0.0103 },
//            { 0.7689, 0.2598, 0.0104 },
//            { 0.7575, 0.2178, 0.0105 },
//            { 0.7442, 0.1934, 0.0119 },
//            { 0.7308, 0.1691, 0.0132 },
//            { 0.7092, 0.1543, 0.0154 },
//            { 0.6875, 0.1394, 0.0176 },
//            { 0.6593, 0.1243, 0.0231 },
//            { 0.631, 0.1091, 0.0286 },
//            { 0.5509, 0.0965, 0.0281 },
//            { 0.4709, 0.0839, 0.0276 },
//            { 0.2849, 0.0527, 0.0175 },
//            { 0.0988, 0.0215, 0.0075 },
//            { 0.0602, 0.0144, 0.0058 },
//            { 0.0217, 0.0073, 0.004 },
//            { 0.0172, 0.0063, 0.0035 },
//            { 0.0127, 0.0052, 0.0029 },
//            { 0.009, 0.0049, 0.003 },
//            { 0.0053, 0.0045, 0.0031 },
//            { 0.0044, 0.0045, 0.003 },
//            { 0.0036, 0.0046, 0.003 },
//            { 0.0042, 0.0044, 0.0037 },
//            { 0.0048, 0.0043, 0.0043 },
//            { 0.0042, 0.0038, 0.0037 },
//            { 0.0036, 0.0032, 0.0031 },
//            { 0.003, 0.0027, 0.0025 },
//            { 0.0024, 0.0022, 0.0019 },
//            { 0.0018, 0.0017, 0.0013 },
//            { 0.0012, 0.0012, 0.0006 },
//            { 0.0013, 0.0013, 0.0008 },
//            { 0.0013, 0.0014, 0.0009 },
//            { 0.0014, 0.0015, 0.001 },
//            { 0.0015, 0.0017, 0.0011 },
//            { 0.0016, 0.0018, 0.0012 },
//            { 0.0017, 0.0019, 0.0013 },
//        }
//    },
//    { "CANON", "XTi", 5,
//        {{ 0.0245, 0.0251, 0.0266 },
//            { 0.0219, 0.0235, 0.0257 },
//            { 0.0193, 0.0218, 0.0248 },
//            { 0.0155, 0.0176, 0.0216 },
//            { 0.0117, 0.0134, 0.0184 },
//            { 0.0111, 0.0138, 0.034 },
//            { 0.0105, 0.0143, 0.0495 },
//            { 0.0116, 0.0334, 0.2286 },
//            { 0.0127, 0.0526, 0.4077 },
//            { 0.0124, 0.0661, 0.507 },
//            { 0.0121, 0.0795, 0.6063 },
//            { 0.0133, 0.1013, 0.7028 },
//            { 0.0146, 0.123, 0.7992 },
//            { 0.0138, 0.1347, 0.8179 },
//            { 0.013, 0.1463, 0.8366 },
//            { 0.0144, 0.1956, 0.9075 },
//            { 0.0158, 0.245, 0.9783 },
//            { 0.0163, 0.3061, 0.9023 },
//            { 0.0167, 0.3673, 0.8263 },
//            { 0.0157, 0.4201, 0.7798 },
//            { 0.0147, 0.4729, 0.7333 },
//            { 0.0125, 0.4607, 0.6448 },
//            { 0.0104, 0.4485, 0.5563 },
//            { 0.0104, 0.5595, 0.4881 },
//            { 0.0105, 0.6705, 0.4199 },
//            { 0.0119, 0.7231, 0.3468 },
//            { 0.0133, 0.7757, 0.2738 },
//            { 0.0155, 0.82, 0.2086 },
//            { 0.0177, 0.8642, 0.1434 },
//            { 0.018, 0.9321, 0.1141 },
//            { 0.0184, 1, 0.0847 },
//            { 0.0156, 0.9074, 0.0651 },
//            { 0.0128, 0.8148, 0.0455 },
//            { 0.0145, 0.7843, 0.0375 },
//            { 0.0161, 0.7539, 0.0294 },
//            { 0.0424, 0.6881, 0.0221 },
//            { 0.0687, 0.6223, 0.0148 },
//            { 0.1677, 0.5731, 0.0124 },
//            { 0.2666, 0.5239, 0.01 },
//            { 0.3923, 0.4559, 0.009 },
//            { 0.5179, 0.388, 0.008 },
//            { 0.529, 0.3115, 0.0071 },
//            { 0.5401, 0.2351, 0.0061 },
//            { 0.5234, 0.1821, 0.0058 },
//            { 0.5067, 0.129, 0.0055 },
//            { 0.4833, 0.0994, 0.0052 },
//            { 0.46, 0.0697, 0.0049 },
//            { 0.4308, 0.0586, 0.0047 },
//            { 0.4016, 0.0475, 0.0045 },
//            { 0.3578, 0.04, 0.0047 },
//            { 0.3139, 0.0326, 0.0048 },
//            { 0.2897, 0.0298, 0.0051 },
//            { 0.2655, 0.027, 0.0053 },
//            { 0.2251, 0.0236, 0.0054 },
//            { 0.1848, 0.0201, 0.0056 },
//            { 0.1599, 0.0187, 0.0056 },
//            { 0.1351, 0.0174, 0.0057 },
//            { 0.1101, 0.0158, 0.0055 },
//            { 0.0852, 0.0141, 0.0053 },
//            { 0.0623, 0.0115, 0.0049 },
//            { 0.0395, 0.0088, 0.0044 },
//            { 0.0253, 0.0073, 0.0047 },
//            { 0.0111, 0.0058, 0.0051 },
//            { 0.0091, 0.0056, 0.005 },
//            { 0.0071, 0.0053, 0.0049 },
//            { 0.0062, 0.005, 0.005 },
//            { 0.0052, 0.0047, 0.0051 },
//            { 0.0052, 0.0049, 0.0052 },
//            { 0.0051, 0.005, 0.0052 },
//            { 0.0044, 0.0044, 0.0045 },
//            { 0.0038, 0.0037, 0.0038 },
//            { 0.0031, 0.003, 0.0031 },
//            { 0.0024, 0.0023, 0.0024 },
//            { 0.0017, 0.0017, 0.0017 },
//            { 0.001, 0.001, 0.001 },
//            { 0.0011, 0.0011, 0.0011 },
//            { 0.0013, 0.0013, 0.0013 },
//            { 0.0014, 0.0014, 0.0014 },
//            { 0.0016, 0.0016, 0.0016 },
//            { 0.0017, 0.0017, 0.0018 },
//            { 0.0019, 0.0019, 0.0019 },
//        }
//    },
//    { "Dalsa", "", 5,
//        {{ 0.0776, 0.0547, 0.0789 },
//            { 0.0529, 0.0374, 0.0549 },
//            { 0.0282, 0.0201, 0.031 },
//            { 0.0245, 0.0167, 0.0303 },
//            { 0.0208, 0.0133, 0.0296 },
//            { 0.0202, 0.0141, 0.0491 },
//            { 0.0197, 0.0149, 0.0686 },
//            { 0.0204, 0.0177, 0.098 },
//            { 0.0212, 0.0204, 0.1275 },
//            { 0.0207, 0.0225, 0.1654 },
//            { 0.0203, 0.0245, 0.2032 },
//            { 0.0252, 0.0345, 0.2666 },
//            { 0.0301, 0.0445, 0.3301 },
//            { 0.0349, 0.0573, 0.3766 },
//            { 0.0398, 0.0702, 0.4231 },
//            { 0.0436, 0.097, 0.4679 },
//            { 0.0474, 0.1238, 0.5128 },
//            { 0.0505, 0.1573, 0.5383 },
//            { 0.0536, 0.1909, 0.5638 },
//            { 0.054, 0.2382, 0.5504 },
//            { 0.0545, 0.2855, 0.537 },
//            { 0.0515, 0.3235, 0.5124 },
//            { 0.0485, 0.3616, 0.4878 },
//            { 0.0454, 0.4687, 0.4477 },
//            { 0.0422, 0.5758, 0.4075 },
//            { 0.0437, 0.6285, 0.3591 },
//            { 0.0451, 0.6813, 0.3107 },
//            { 0.0525, 0.7248, 0.2666 },
//            { 0.06, 0.7684, 0.2226 },
//            { 0.0652, 0.7924, 0.1936 },
//            { 0.0704, 0.8165, 0.1647 },
//            { 0.0798, 0.7773, 0.1386 },
//            { 0.0893, 0.7381, 0.1124 },
//            { 0.125, 0.6991, 0.0978 },
//            { 0.1607, 0.6601, 0.0832 },
//            { 0.2598, 0.6136, 0.0697 },
//            { 0.3589, 0.567, 0.0561 },
//            { 0.482, 0.5046, 0.046 },
//            { 0.6051, 0.4421, 0.0359 },
//            { 0.7069, 0.4024, 0.0305 },
//            { 0.8086, 0.3627, 0.0251 },
//            { 0.8623, 0.3265, 0.0221 },
//            { 0.9161, 0.2903, 0.019 },
//            { 0.951, 0.2451, 0.0179 },
//            { 0.9859, 0.2, 0.0168 },
//            { 0.9929, 0.1678, 0.015 },
//            { 1, 0.1357, 0.0131 },
//            { 0.9857, 0.1231, 0.0125 },
//            { 0.9714, 0.1105, 0.0118 },
//            { 0.9655, 0.0978, 0.0125 },
//            { 0.9596, 0.0852, 0.0131 },
//            { 0.88, 0.0724, 0.0123 },
//            { 0.8003, 0.0596, 0.0114 },
//            { 0.5002, 0.0368, 0.0095 },
//            { 0.2001, 0.0141, 0.0076 },
//            { 0.1157, 0.0098, 0.0073 },
//            { 0.0314, 0.0055, 0.0069 },
//            { 0.0229, 0.0049, 0.0066 },
//            { 0.0144, 0.0043, 0.0064 },
//            { 0.0136, 0.0042, 0.0058 },
//            { 0.0128, 0.0041, 0.0052 },
//            { 0.0103, 0.0039, 0.0053 },
//            { 0.0078, 0.0038, 0.0054 },
//            { 0.0075, 0.0041, 0.0061 },
//            { 0.0071, 0.0044, 0.0067 },
//            { 0.0071, 0.0042, 0.0065 },
//            { 0.007, 0.0041, 0.0063 },
//            { 0.0083, 0.0043, 0.0065 },
//            { 0.0096, 0.0045, 0.0068 },
//            { 0.0086, 0.0039, 0.0059 },
//            { 0.0076, 0.0034, 0.005 },
//            { 0.0066, 0.0028, 0.0041 },
//            { 0.0056, 0.0023, 0.0032 },
//            { 0.0046, 0.0018, 0.0024 },
//            { 0.0036, 0.0012, 0.0015 },
//            { 0.0037, 0.0014, 0.0017 },
//            { 0.0038, 0.0015, 0.0019 },
//            { 0.0039, 0.0016, 0.0022 },
//            { 0.004, 0.0017, 0.0024 },
//            { 0.0041, 0.0019, 0.0026 },
//            { 0.0042, 0.002, 0.0029 },
//        }
//    },
//    { "Nikon", "D70", 5,
//        {{ 0.0295, 0.0348, 0.032 },
//            { 0.0262, 0.0288, 0.0399 },
//            { 0.0228, 0.0228, 0.0479 },
//            { 0.0192, 0.0221, 0.0934 },
//            { 0.0156, 0.0214, 0.1389 },
//            { 0.0132, 0.0232, 0.1966 },
//            { 0.0108, 0.0249, 0.2544 },
//            { 0.0101, 0.0308, 0.3124 },
//            { 0.0095, 0.0367, 0.3704 },
//            { 0.0093, 0.0458, 0.4286 },
//            { 0.0091, 0.0549, 0.4868 },
//            { 0.0099, 0.0706, 0.5615 },
//            { 0.0108, 0.0864, 0.6361 },
//            { 0.0105, 0.1063, 0.6993 },
//            { 0.0102, 0.1263, 0.7625 },
//            { 0.0093, 0.1541, 0.7922 },
//            { 0.0084, 0.1819, 0.8218 },
//            { 0.0093, 0.2327, 0.7868 },
//            { 0.0103, 0.2835, 0.7517 },
//            { 0.0119, 0.3337, 0.7141 },
//            { 0.0134, 0.3838, 0.6765 },
//            { 0.0136, 0.3938, 0.6128 },
//            { 0.0138, 0.4037, 0.5492 },
//            { 0.0174, 0.4953, 0.458 },
//            { 0.021, 0.5869, 0.3667 },
//            { 0.0257, 0.6627, 0.2945 },
//            { 0.0304, 0.7386, 0.2224 },
//            { 0.0463, 0.8295, 0.1597 },
//            { 0.0621, 0.9203, 0.097 },
//            { 0.0717, 0.9602, 0.0673 },
//            { 0.0813, 1, 0.0375 },
//            { 0.0633, 0.9707, 0.0273 },
//            { 0.0453, 0.9414, 0.0171 },
//            { 0.0363, 0.9005, 0.0141 },
//            { 0.0274, 0.8596, 0.011 },
//            { 0.0276, 0.8073, 0.0082 },
//            { 0.0277, 0.7551, 0.0053 },
//            { 0.0532, 0.6705, 0.0043 },
//            { 0.0787, 0.5858, 0.0034 },
//            { 0.2393, 0.4998, 0.0036 },
//            { 0.3999, 0.4139, 0.0037 },
//            { 0.5019, 0.3425, 0.0031 },
//            { 0.604, 0.2711, 0.0024 },
//            { 0.5805, 0.2028, 0.0024 },
//            { 0.5571, 0.1346, 0.0024 },
//            { 0.5098, 0.0909, 0.0026 },
//            { 0.4625, 0.0471, 0.0027 },
//            { 0.4267, 0.0337, 0.0024 },
//            { 0.3909, 0.0202, 0.0021 },
//            { 0.3517, 0.0148, 0.002 },
//            { 0.3124, 0.0094, 0.0019 },
//            { 0.2716, 0.0081, 0.0021 },
//            { 0.2308, 0.0068, 0.0023 },
//            { 0.1931, 0.0064, 0.0028 },
//            { 0.1555, 0.0059, 0.0033 },
//            { 0.1383, 0.005, 0.0029 },
//            { 0.1211, 0.0041, 0.0024 },
//            { 0.1002, 0.0041, 0.0022 },
//            { 0.0793, 0.004, 0.0021 },
//            { 0.0675, 0.0045, 0.0024 },
//            { 0.0558, 0.005, 0.0026 },
//            { 0.0449, 0.0053, 0.0028 },
//            { 0.034, 0.0055, 0.003 },
//            { 0.0277, 0.0048, 0.0024 },
//            { 0.0214, 0.0042, 0.0018 },
//            { 0.0183, 0.0042, 0.0021 },
//            { 0.0153, 0.0043, 0.0023 },
//            { 0.0114, 0.0039, 0.0026 },
//            { 0.0075, 0.0036, 0.0029 },
//            { 0.0064, 0.0031, 0.0025 },
//            { 0.0054, 0.0026, 0.0021 },
//            { 0.0043, 0.0021, 0.0017 },
//            { 0.0033, 0.0016, 0.0013 },
//            { 0.0022, 0.0011, 0.0009 },
//            { 0.0012, 0.0007, 0.0006 },
//            { 0.0012, 0.0007, 0.0006 },
//            { 0.0012, 0.0008, 0.0007 },
//            { 0.0012, 0.0009, 0.0008 },
//            { 0.0013, 0.0009, 0.0009 },
//            { 0.0013, 0.001, 0.0009 },
//            { 0.0013, 0.0011, 0.001 },
//        }
//    },
//};

